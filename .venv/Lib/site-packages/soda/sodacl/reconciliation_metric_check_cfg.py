from __future__ import annotations

from soda.sodacl.location import Location
from soda.sodacl.metric_check_cfg import MetricCheckCfg
from soda.sodacl.missing_and_valid_cfg import MissingAndValidCfg
from soda.sodacl.threshold_cfg import ThresholdCfg


class ReconciliationMetricCheckCfg(MetricCheckCfg):
    def __init__(
        self,
        source_header: str,
        source_line: str,
        source_configurations: dict | None,
        location: Location,
        name: str | None,
        metric_name: str,
        metric_args: list[object] | None,
        missing_and_valid_cfg: MissingAndValidCfg | None,
        reconciliation_configurations: dict,
        condition: str | None,
        metric_expression: str | None,
        metric_query: str | None,
        source_metric_expression: str | None,
        source_metric_query: str | None,
        target_metric_expression: str | None,
        target_metric_query: str | None,
        fail_threshold_cfg: ThresholdCfg | None,
        warn_threshold_cfg: ThresholdCfg | None,
        samples_limit: int | None = None,
        samples_columns: list | None = None,
    ):
        super().__init__(
            source_header,
            source_line,
            source_configurations,
            location,
            name,
            samples_limit=samples_limit,
            samples_columns=samples_columns,
            metric_name=metric_name,
            metric_args=metric_args,
            missing_and_valid_cfg=missing_and_valid_cfg,
            condition=condition,
            metric_expression=metric_expression,
            metric_query=metric_query,
            fail_threshold_cfg=fail_threshold_cfg,
            warn_threshold_cfg=warn_threshold_cfg,
            filter=None,
            change_over_time_cfg=None,
        )
        self.reconciliation_configurations: dict = reconciliation_configurations
        self.source_metric_expression: str | None = source_metric_expression
        self.source_metric_query: str | None = source_metric_query
        self.target_metric_expression: str | None = target_metric_expression
        self.target_metric_query: str | None = target_metric_query
