from __future__ import annotations

from datetime import timedelta

from soda.sodacl.freshness_check_cfg import FreshnessCheckCfg
from soda.sodacl.location import Location
from soda.sodacl.threshold_cfg import ThresholdCfg


class ReconciliationFreshnessCheckCfg(FreshnessCheckCfg):
    def __init__(
        self,
        source_header: str,
        source_line: str,
        source_configurations: str | None,
        location: Location,
        name: str | None,
        column_name: str,
        variable_name: str | None,
        fail_freshness_threshold: timedelta,
        warn_freshness_threshold: timedelta,
        reconciliation_configurations: dict,
        fail_threshold_cfg: ThresholdCfg,
        warn_threshold_cfg: ThresholdCfg,
    ):
        super().__init__(
            source_header,
            source_line,
            source_configurations,
            location,
            name,
            filter=None,
            column_name=column_name,
            variable_name=variable_name,
            fail_freshness_threshold=fail_freshness_threshold,
            warn_freshness_threshold=warn_freshness_threshold,
        )
        self.reconciliation_configurations = reconciliation_configurations
        self.fail_threshold_cfg = fail_threshold_cfg
        self.warn_threshold_cfg = warn_threshold_cfg
